<!DOCTYPE html>
<!-- saved from url=(0061)http://it4kt.cnl.sk/c/pvjc/2017/problemset.04.mastermind.html -->
<html lang="sk"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <!--<base href="http://it4kt.cnl.sk/c/pvjc/">--><base href=".">

    <title>Programovanie</title>

    
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="author" content="mirek (miroslav.binas@tuke.sk)">
    
    <link rel="stylesheet" href="./Programovanie_files/bootstrap.min.css">
    <link rel="stylesheet" href="./Programovanie_files/github.min.css">
    
<link rel="stylesheet" href="./Programovanie_files/jumbotron.css">
<link rel="stylesheet" href="./Programovanie_files/sticky-footer-navbar.css">
<link rel="stylesheet" href="./Programovanie_files/docs.min.css">

<script async="" src="./Programovanie_files/analytics.js"></script><script type="text/javascript" async="" src="./Programovanie_files/embed.js"></script><link rel="preload" as="style" href="https://c.disquscdn.com/next/embed/styles/lounge.1338080c7d626298e3eb715cb658042e.css"><link rel="preload" as="script" href="https://c.disquscdn.com/next/embed/common.bundle.94805df7d922d8c7efc1170776463a6c.js"><link rel="preload" as="script" href="https://c.disquscdn.com/next/embed/lounge.bundle.049dcbe15518bbbfe775b0e6e75af92a.js"><link rel="preload" as="script" href="https://disqus.com/next/config.js"><script src="./Programovanie_files/alfie.f51946af45e0b561c60f768335c9eb79.js" async="" charset="UTF-8"></script></head>
<body>

<nav class="navbar navbar-inverse navbar-fixed-top">
    <div class="container">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1" aria-expanded="false">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
              </button>
          <a class="navbar-brand" href="http://it4kt.cnl.sk/c/pvjc/">Programovanie</a>
        </div>

        <div id="bs-example-navbar-collapse-1" class="collapse navbar-collapse">
            <ul class="nav navbar-nav">
                
                    
                        <li><a href="http://it4kt.cnl.sk/c/pvjc/resources.html">Resources</a></li>
                    
                
                    
                        <li class="dropdown">
                            <a href="http://it4kt.cnl.sk/c/pvjc/#" class="dropdown-toggle" data-toggle="dropdown">Lectures<b class="caret"></b></a>
                            <ul class="dropdown-menu">
                                
                                <li><a href="http://it4kt.cnl.sk/c/pvjc/2017/lecture.01.html">Week 01</a></li>
                                
                                <li><a href="http://it4kt.cnl.sk/c/pvjc/2017/lecture.02.html">Week 02</a></li>
                                
                                <li><a href="http://it4kt.cnl.sk/c/pvjc/2017/lecture.03.html">Week 03</a></li>
                                
                                <li><a href="http://it4kt.cnl.sk/c/pvjc/2017/lecture.04.html">Week 04</a></li>
                                
                                <li><a href="http://it4kt.cnl.sk/c/pvjc/2017/lecture.05.html">Week 05</a></li>
                                
                                <li><a href="http://it4kt.cnl.sk/c/pvjc/2017/lecture.06.html">Week 06</a></li>
                                
                                <li><a href="http://it4kt.cnl.sk/c/pvjc/2017/lecture.07.html">Week 07</a></li>
                                
                                <li><a href="http://it4kt.cnl.sk/c/pvjc/2017/lecture.08.html">Week 08</a></li>
                                
                                <li><a href="http://it4kt.cnl.sk/c/pvjc/2017/lecture.09.html">Week 09</a></li>
                                
                                <li><a href="http://it4kt.cnl.sk/c/pvjc/2017/lecture.10.html">Week 10</a></li>
                                
                                <li><a href="http://it4kt.cnl.sk/c/pvjc/2017/lecture.11.html">Week 11</a></li>
                                
                            </ul>
                        </li>
                    
                
                    
                        <li class="dropdown">
                            <a href="http://it4kt.cnl.sk/c/pvjc/#" class="dropdown-toggle" data-toggle="dropdown">Labs<b class="caret"></b></a>
                            <ul class="dropdown-menu">
                                
                                <li><a href="http://it4kt.cnl.sk/c/pvjc/2017/labs.01.html">Lab 01</a></li>
                                
                                <li><a href="http://it4kt.cnl.sk/c/pvjc/2017/labs.02.html">Lab 02</a></li>
                                
                                <li><a href="http://it4kt.cnl.sk/c/pvjc/2017/labs.03.html">Lab 03</a></li>
                                
                                <li><a href="http://it4kt.cnl.sk/c/pvjc/2017/labs.04.html">Lab 04</a></li>
                                
                                <li><a href="http://it4kt.cnl.sk/c/pvjc/2017/labs.05.html">Lab 05</a></li>
                                
                                <li><a href="http://it4kt.cnl.sk/c/pvjc/2017/labs.06.html">Lab 06</a></li>
                                
                                <li><a href="http://it4kt.cnl.sk/c/pvjc/2017/labs.07.html">Lab 07</a></li>
                                
                                <li><a href="http://it4kt.cnl.sk/c/pvjc/2017/labs.08.html">Lab 08</a></li>
                                
                                <li><a href="http://it4kt.cnl.sk/c/pvjc/2017/labs.09.html">Lab 09</a></li>
                                
                                <li><a href="http://it4kt.cnl.sk/c/pvjc/2017/labs.10.html">Lab 10</a></li>
                                
                                <li><a href="http://it4kt.cnl.sk/c/pvjc/2017/labs.11.html">Lab 11</a></li>
                                
                                <li><a href="http://it4kt.cnl.sk/c/pvjc/2017/labs.12.html">Lab 12</a></li>
                                
                            </ul>
                        </li>
                    
                
                    
                        <li class="dropdown">
                            <a href="http://it4kt.cnl.sk/c/pvjc/#" class="dropdown-toggle" data-toggle="dropdown">Problemsets<b class="caret"></b></a>
                            <ul class="dropdown-menu">
                                
                                <li><a href="http://it4kt.cnl.sk/c/pvjc/virtualmachine.html">00 - The Environment</a></li>
                                
                                <li><a href="http://it4kt.cnl.sk/c/pvjc/2017/problemset.01.k.html">01 - K</a></li>
                                
                                <li><a href="http://it4kt.cnl.sk/c/pvjc/2017/problemset.02.top.secret.html">02 - Top Secret</a></li>
                                
                                <li><a href="http://it4kt.cnl.sk/c/pvjc/2017/problemset.04.mastermind.html">04 - Mastermind</a></li>
                                
                            </ul>
                        </li>
                    
                
                    
                        <li class="dropdown">
                            <a href="http://it4kt.cnl.sk/c/pvjc/#" class="dropdown-toggle" data-toggle="dropdown">Archive<b class="caret"></b></a>
                            <ul class="dropdown-menu">
                                
                                <li><a href="http://it4kt.cnl.sk/c/pvjc/2016/outline.html">2016</a></li>
                                
                                <li><a href="http://it4kt.cnl.sk/c/pvjc/2015/outline.html">2015</a></li>
                                
                                <li><a href="http://it4kt.cnl.sk/c/pvjc/2014/outline.html">2014</a></li>
                                
                            </ul>
                        </li>
                    
                
                    
                        <li><a href="https://arena.kpi.fei.tuke.sk/">Arena</a></li>
                    
                

            
            
            
            
            
            
            
          </ul>

        </div><!-- /.navbar-collapse -->
    </div>
</nav>




<div class="container">
    

    


    
    <h1 id="mastermind">Mastermind</h1>
<p><strong>Upozornenia:</strong></p>
<ul>
<li><p>02.máj.2017 - Aktuálne znenie zadania je možné považovať za finálne. Samozrejme - v prípade nezrovnalostí píšte do disqus-u. Termín odovzdania je teda 14.máj.2017. Je však veľmi pravdepodobné, že toto zadanie budete odovzdávať osobne svojmu cvičiacemu.</p></li>
<li><p>29.apr.2017 - Pridaná kostra projektu. Modul <code>LCD</code> sa zrejme výrazne nezmení, ale modul <code>Mastermind</code> bude rozšírený. Pripomienky a postrehy napíšte do diskusie.</p></li>
<li><p>28.apr.2017 - Tak prvý plán nevyšiel. Problém je totiž v tom, že <em>Arduino</em> potláča všetky dobré návyky, o ktorých sme sa na predmete rozprávali, a na ktorých v zadaniach dbáme. Preto aj prototyp zadania, ktorý už máme síce pripravený niekoľko mesiacov, musíme prerobiť. Preto zrejme jeho fragmenty budú pribúdať postupne. Správanie však opísané máte, takže do vlastnej implementácie sa kľudne vrhnite. Zvyšok bude len o refaktorizácii vášho riešenia tak, aby vyhovovalo požiadavkám.</p></li>
<li><p>26.apr.2017 - Toto zadanie je stále work in progress. V priebehu dňa 26.apr.2017 bude jeho znenie zfinalizované. Dovtedy si rozhodne zadovážte potrebné komponenty a hru samotnú si môžete vyskúšať.</p></li>
</ul>
<h1 id="ciele">Ciele</h1>
<ul>
<li>Naučiť sa pracovať s prototypovacou doskou <em>Arduino</em></li>
</ul>
<h2 id="logik-a.k.a.-mastermind">Logik a.k.a. Mastermind</h2>
<p><a href="https://en.wikipedia.org/wiki/Mastermind_(board_game)"><em>Mastermind</em></a> je hra pre dvoch hráčov, ktorá je v našich končinách skôr známa pod názvom <em>Logik</em>. Predpokladám, že ste ju už hrali. Ak však patríte do skupiny hráčo, ktorí pod <em>Quake 3</em> nejdú, tak vám odporúčam pred týmto zadaním niekoľko partií tejto hry odohrať. Napríklad online verziu <a href="http://www.web-games-online.com/mastermind/">tu</a> alebo si nainštalujte verziu pre <a href="https://play.google.com/store/apps/details?id=uk.ac.bmth.prog2.mastermind">OS Android</a>.</p>
<div class="figure">
<img src="./Programovanie_files/Mastermind.jpg" alt="Mastermind hracie pole">
<p class="caption">Mastermind hracie pole</p>
</div>
<h2 id="pravidlá-hry">Pravidlá hry</h2>
<ul>
<li>Na začiatku si jeden z hráčov umiestni pod striešku (viď obrázok vyššie) kombináciu farebných kolíkov. Ich počet je obyčajne 4, ale v závislosti od prevedenia hry a jej obtiažnosti ich môže byť viac. V závislosti od dohody hráčov sa farby kolíkov môžu opakovať.</li>
<li>Cieľom hry je uhádnuť farebnú kombináciu druhým hráčom vrátane poradia jednotlivých farieb. Prvý hráč každý jeho pokus vyhodnotí nasledovne:
<ul>
<li>za každý hrací kolík, ktorý hádajúci hráč umiestnil v správnej farbe na správne miesto, pridá čierny kolík</li>
<li>za každý hrací kolík, ktorý hádajúci hráč umiestnil v správnej farbe, ale na zlé miesto, pridá biely kolík</li>
</ul></li>
<li>Hádajúci hráč vyhrá, ak uhádne celú kombináciu. To znamená, že uhádne farby všetkých kolíkov na správnych pozíciách (jeho ťah bude ohodnotený štyrmi čiernymi kolíkmi).</li>
<li>Hádajúci hráč prehrá, ak sa mu nepodarí uhádnuť farebnú kombináciu za povolený počet pokusov.</li>
</ul>
<p>Následne si hráči vymenia role a hrajú znova. Hru vyhráva hráč, ktorému sa podarí uhádnuť súperovu kombináciu za menší počet ťahov.</p>
<h2 id="zadanie">Zadanie</h2>
<p>Áno - vašou úlohou je vytvoriť implementáciu hry <em>Logik</em> v jazyku <em>C</em>. Aby to však nebolo až také jednoduché, tu je niekoľko zmien:</p>
<ul>
<li>Vaše riešenie bude postavené na prototypovacej doske <em>Arduino</em>.</li>
<li>Úlohu hráča, ktorý generoval tajnú farebnú kombináciu bude vždy zastupovať <em>Arduino</em>.</li>
<li>Miesto farebných kolíkov bude potrebné uhádnuť číselnú kombináciu pozostávajúcu zo štyroch číslic v rozsahu od <em>0</em> až <em>9</em>.</li>
<li>Pre komunikáciu s hráčom sa bude používať display.</li>
<li>Pre zadávanie kombinácie bude hráč používať tlačidlá - pre každú číslicu kódu jedno, takže dokopy <em>4</em> tlačidlá. Po jeho stlačení sa bude hodnota číslice meniť postupne od hodnoty <em>0</em> až po hodnotu <em>9</em>. Po dosiahnutí hodnoty <em>9</em> a opätovnom stlačení tlačidla sa hodnota číslice na display-i opäť zmení na hodnotu <em>0</em>, následne na <em>1</em>, atď. Pozor však - pri stlačení tlačidla sa číslica zmení práve o <em>1</em>. Ak chcem teda z východzej hodnoty <em>0</em> spraviť hodnotu <em>5</em>, musím tlačidlo stlačiť <em>5x</em>.</li>
<li>Pre ukončenie ťahu je potrebné ťah potvrdiť stlačením tlačidla <em>ENTER</em> - piate tlačidlo.</li>
<li>Po ukončení ťahu <em>Arduino</em> ohodnotí hráčov ťah pomocou štyroch RGB lediek:
<ul>
<li>ak hráč uhádne číslicu a súčasne uhádne aj jej pozíciu, zasvieti červenú farbu</li>
<li>ak hráč síce uhádne číslicu, ale neuhádne jej pozíciu, zasvieti modrú farbu</li>
</ul></li>
<li>Ak hráč uhádne celú kombináciu, môžete tento stav reprezentovať rozličnými efektami vzhľadom na použité súčiastky.</li>
<li>V prípade, že hráč stlačí prvé tlačidlo (<code class="sourceCode c">BTN_1_PIN</code>) a následne bude stláčať druhé (<code class="sourceCode c">BTN_2_PIN</code>) alebo tretie (<code class="sourceCode c">BTN_3_PIN</code>) tlačidlo, bude sa môcť pohybovať v histórii predchádzajúcich pokusov dopredu (pri stlačení tretieho tlačidla) a dozadu (pri stlačení druhého tlačidla).</li>
</ul>
<h2 id="ukážková-hra">Ukážková hra</h2>
<p>Pre názornejšiu predstavu toho, ako môže vyzerať jedna partia sa môžete pozrieť napríklad na toto video na <a href="https://www.youtube.com/watch?v=XwuwWTH39ac">YouTube</a>. Alebo vám k tomu môže pomôcť nasledovný výpis:</p>
<pre><code class="hljs cpp"><span class="hljs-number">9347</span>
---- ----
<span class="hljs-number">1234</span> <span class="hljs-number">0</span>A2B
<span class="hljs-number">5678</span> <span class="hljs-number">0</span>A1B
<span class="hljs-number">9012</span> <span class="hljs-number">1</span>A0B
<span class="hljs-number">9340</span> <span class="hljs-number">3</span>A0B
<span class="hljs-number">9345</span> <span class="hljs-number">3</span>A0B
<span class="hljs-number">9346</span> <span class="hljs-number">3</span>A0B
<span class="hljs-number">9347</span> <span class="hljs-number">4</span>A0B</code></pre>
<p>Následná komunikácia v rámci dvojriadkového LCD display-u môže vyzerať napríklad takto:</p>
<ul>
<li><p>Úvodná obrazovka po zapnutí:</p>
<pre><code class="hljs coffeescript">Welcome to MasterMind
Your goal <span class="hljs-keyword">is</span> to guess my secret combination.</code></pre></li>
<li><p>Následné spustenie hry a výzva pre hráča:</p>
<pre><code class="hljs cpp">I am thinking a number:
Your guess: <span class="hljs-number">0000</span></code></pre></li>
<li><p>Pri stláčaní tlačidiel, ktoré sú vyvedené na piny <code>BTN_1_PIN</code> až <code>BTN_2_PIN</code> sa budú postupne meniť hodnoty jednotlivých zobrazených číslic na hráčov tip:</p>
<pre><code class="hljs cpp">I am thinking a number:
Your guess: <span class="hljs-number">1234</span></code></pre></li>
<li><p>Po stlačení tlačidla vyvedeného na pin <code>BTN_ENTER_PIN</code> dôjde k vyhodnoteniu hráčovho ťahu (na display-i a súčasne aj príslušnou kombináciou RGB diód) a zobrazenie ďalšej výzvy:</p>
<pre><code class="hljs cpp"><span class="hljs-number">01</span>: <span class="hljs-number">1234</span> <span class="hljs-number">0</span>A2B
Your guess: <span class="hljs-number">0000</span></code></pre></li>
<li><p>Po zadaní ďalšieho tipu a jeho potvrdení dôjde k jeho vyhodnoteniu:</p>
<pre><code class="hljs cpp"><span class="hljs-number">02</span>: <span class="hljs-number">5678</span> <span class="hljs-number">0</span>A1B
Your guess: <span class="hljs-number">0000</span></code></pre></li>
<li><p>Ak v tomto prípade hráč začne listovať históriou späť (podržaním tlačidla v kombinácii s tlačidlom), zobrazí sa v riadku histórie predchádzajúci ťah a adekvátne sa rozsvietia aj RGB diódy. Riadok s aktuálne zadávaným tipom sa však nijako nezmení:</p>
<pre><code class="hljs cpp"><span class="hljs-number">01</span>: <span class="hljs-number">1234</span> <span class="hljs-number">0</span>A2B
Your guess: <span class="hljs-number">0000</span></code></pre>
<p><strong>Poznámka:</strong> Históriou sa je možné pohybovať dozadu len po prvý pokus a dopredu len po posledný pokus.</p></li>
<li><p>Po zadaní posledného tipu vedúceho k správenmu riešeniu hry sa na displayi zobrazí vhodn7 text a RGB diódy môžu vydávať rôzne farby:</p>
<pre><code class="hljs cpp"><span class="hljs-number">07</span>: <span class="hljs-number">9347</span> <span class="hljs-number">4</span>A0B
Well done! You win in <span class="hljs-number">7</span> guesses!</code></pre></li>
<li><p>V prípade, že by hráč vyčerpal všetky pokusy, zobrazí sa smutná správa:</p>
<pre><code class="hljs cpp"><span class="hljs-number">10</span>: <span class="hljs-number">9348</span> <span class="hljs-number">3</span>A0B
Looser! My secret combination was <span class="hljs-number">9347.</span></code></pre></li>
</ul>
<p><strong>Poznámka:</strong> Keďže sa na to určite budete pýtať, či má komunikácia s hráčom vyzerať presne takto, tak si všimnite v úvode výpisu text <em>"môže vyzerať napríklad takto"</em>: nie, vaša implementácia môže vyzerať ináč a môže zobrazovať iné texty.</p>
<h2 id="vybavenie">Vybavenie</h2>
<p>Pre potreby vytvorenia hry budete potrebovať:</p>
<ul>
<li>1x Arduino UNO</li>
<li>1x breadboard</li>
<li>1x display s i2c moduom</li>
<li>4x dvojfarebné alebo RGB LED diódy</li>
<li>5x tlačidlo</li>
<li>8x rezistor 220 Ohm</li>
<li>5x rezistor 10 kOhm</li>
<li>prepojovacie káble (vrátane USB kabla)</li>
</ul>
<h2 id="vývojové-prostedie">Vývojové prostedie</h2>
<p>Vývojové prostredie (<em>IDE</em>) pre <em>Arduino</em> je možné stiahnuť priamo zo stránky <a href="http://www.arduino.cc/">www.arduino.cc</a>. Pokiaľ však používate niektorú <em>linuxovú</em> distribúciu, môžete si tento nástroj nainštalovať priamo z repozitára:</p>
<ul>
<li><p>V prípade, že používate <em>Fedoru</em> (<em>RedHat</em>):</p>
<div class="sourceCode"><pre class="sourceCode bash"><code class="sourceCode bash hljs"><span class="kw">sudo</span> dnf install arduino</code></pre></div></li>
<li><p>V prípade, že používate <em>Ubuntu</em> (<em>Debian</em>):</p>
<div class="sourceCode"><pre class="sourceCode bash"><code class="sourceCode bash hljs"><span class="kw">sudo</span> apt-get install</code></pre></div></li>
</ul>
<p><strong>Poznámka:</strong> Je veľmi pravdepodobné, že verzia <em>Arduino IDE</em> v repozitároch vašej distribúcie bude staršia, ako tá, ktorá je dostupná na oficiálnej stránke. Preto vám odporúčame miesto inštalovania <em>Arduino IDE</em> z repozitárov si nainštalovať najnovšiu verziu priamo zo stránky <a href="http://www.arduino.cc/">www.arduino.cc</a>.</p>
<p>Miesto <em>Arduino IDE</em> môžete použiť aj nástroj <a href="http://www.fritzin.org/">Fritzing</a>, ktorý ponúka viac možností, ako len vývojové prostredie pre programovanie mikrokontroléra. Pomocou neho môžete napríklad nakresliť schému zapojenia vášho riešenia.</p>
<p>Podobne, ako <em>Arduino IDE</em> môžete aj <em>Fritzing</em> nájsť v repozitároch vašej distribúcie alebo si ho môžete stiahnuť priamo z domovskej stránky <a href="http://www.fritzing.org/">projektu</a>.</p>
<p>Tí najväčší makači však budú určite pre vývoj používať textový editor <em>Vim</em>. V tom prípade im určite pomôže napríklad aj tento <a href="http://hardwarefun.com/tutorials/compiling-arduino-sketches-using-makefile">článok</a>.</p>
<h2 id="schéma-zapojenia">Schéma zapojenia</h2>
<p>Na obrázku nižšie sa nachádza schéma celého zapojenia. V tomto prípade je veľmi dôležité, aby vaše pripojené vstupy aj výstupy zodpovedali uvedeným PIN-om.</p>
<div class="figure">
<img src="./Programovanie_files/mastermind-schematic.png" alt="mastermind - schematic">
<p class="caption">mastermind - schematic</p>
</div>
<h2 id="modul-lcd">Modul <code>LCD</code></h2>
<p>Tento modul sa týka vášho LCD display-a. Sám osobe nebude kontrolovaný, pretože jeho funkcionalita závisí od typu vášho LCD display-a. Jednotlivé funkcie a ich zoznam sa nachádza v hlavičkovom súbore <code>lcd_wrapper.h</code>.</p>
<p>Dôležitou je funkcia <code class="sourceCode c">lcd_init()</code>, ktorá slúži na inicializovanie display-a. Túto funkciu volajte podľa potreby z funkcie <code>setup()</code>. Pokiaľ si použitie vašej knižnice vyžaduje aj nejakú globálnu premennú, vytvorte, resp. príslušné volanie zapíšte do súboru <code>lcd_wrapper.cpp</code>, pretože celá práca a všetky volania display-a sa budú nachádzať len v tomto súbore (module).</p>
<h2 id="modul-mastermind">Modul <code>Mastermind</code></h2>
<p>Tento modul obsahuje samotnú logiku celej hry.</p>
<h3 id="úloha-1-funkcia-generate_code">Úloha #1: Funkcia <code class="sourceCode c">generate_code()</code></h3>
<p>Táto funkcia slúži na vygenerovanie tajného kódu, ktorý má byť uhádnutý. Vygenerovaný kód vráti ako referenciu na reťazec znakov, ktorý je zložený len zo znakov číslic.</p>
<p>Funkcia má tieto pozičné parametre:</p>
<ul>
<li><code class="sourceCode c">bool repeat</code> - Ak je nastavený na hodnotu <code>true</code>, jednotlivé číslice sa vo výslednom kóde môžu opakovať. V opačnom prípade sa opakovať nemôžu.</li>
<li><code class="sourceCode c"><span class="dt">int</span> length</code> - Určuje dĺžku vygenerovaného kódu (počet číslic, z ktorých sa má výsledný kód skladať). Ak je dĺžka menšia ako <em>1</em>, funkcia vráti <code class="sourceCode c">NULL</code>.</li>
</ul>
<p>Funkcia vráti referenciu na vygenerovaný reťazec alebo <code>NULL</code>, ak sa tento reťazec vygenerovať nepodarilo.</p>
<h4 id="príklad-použitia">Príklad použitia</h4>
<div class="sourceCode"><pre class="sourceCode c"><code class="sourceCode c hljs cpp"><span class="dt"><span class="hljs-keyword">char</span></span>* code = <span class="hljs-literal">NULL</span>;

<span class="co"><span class="hljs-comment">// code will be generated as sequence not repeating digits of length 4</span></span>
code = generate_code(<span class="hljs-literal">false</span>, <span class="dv"><span class="hljs-number">4</span></span>);
<span class="co"><span class="hljs-comment">// code = "1234";</span></span>
<span class="hljs-built_in">free</span>(code)

<span class="co"><span class="hljs-comment">// code will be generated as sequence of repeating digits of length 5</span></span>
code = generate_code(<span class="hljs-literal">true</span>, <span class="dv"><span class="hljs-number">5</span></span>);
<span class="co"><span class="hljs-comment">// code = "65656";</span></span>
<span class="hljs-built_in">free</span>(code);

<span class="co"><span class="hljs-comment">// no code will be generated</span></span>
code = generate_code(<span class="hljs-literal">true</span>, -<span class="dv"><span class="hljs-number">10</span></span>);
<span class="co"><span class="hljs-comment">// code = NULL;</span></span></code></pre></div>
<h3 id="úloha-2-funkcia-get_score">Úloha #2: Funkcia <code class="sourceCode c">get_score()</code></h3>
<p>Pomocou tejto funkcie dôjde k vyhodnoteniu aktuálneho pokusu. Výsledkom bude nastavenie správnych hodôt pre počet uhádnutých číslic nachádzajúcich sa na správnej pozícii, ako aj pre počet uhádnutých číslic, ktoré nie sú na správnej pozícii.</p>
<p>Funkcia má tieto pozičné parametre:</p>
<ul>
<li><code class="sourceCode c"><span class="dt">char</span>* secret</code> - Referencia na číselnú kombináciu, ktorú je potrebné uhádnuť. Vstupný parameter.</li>
<li><code class="sourceCode c"><span class="dt">char</span>* guess</code> - Referencia na číselnú kombináciu, ktorá reprezentuje aktuálny hráčov tip. Vstupný parameter.</li>
<li><code class="sourceCode c"><span class="dt">int</span>* peg_a</code> - Referencia na číslo, ktoré reprezentuje počet uhádnutých číslic nachádzajúcich sa na správnej pozícii. Výstupný parameter.</li>
<li><code class="sourceCode c"><span class="dt">int</span>* peg_b</code> - Referencia na číslo, ktoré reprezentuje počet uhádnutých číslic, ktoré sa nenachádzajú na správnej pozícii. Výstupný parameter.</li>
</ul>
<p>Funkcia nevracia žiadnu hodnotu.</p>
<h4 id="príklad-použitia-1">Príklad použitia</h4>
<div class="sourceCode"><pre class="sourceCode c"><code class="sourceCode c hljs cpp"><span class="dt"><span class="hljs-keyword">int</span></span> peg_a;
<span class="dt"><span class="hljs-keyword">int</span></span> peg_b;

get_score(<span class="st"><span class="hljs-string">"9347"</span></span>, <span class="st"><span class="hljs-string">"1234"</span></span>, &amp;peg_a, &amp;peg_b);
assert(peg_a == <span class="dv"><span class="hljs-number">0</span></span> &amp;&amp; peg_b == <span class="dv"><span class="hljs-number">2</span></span>);

get_score(<span class="st"><span class="hljs-string">"9347"</span></span>, <span class="st"><span class="hljs-string">"9348"</span></span>, &amp;peg_a, &amp;peg_b);
assert(peg_a == <span class="dv"><span class="hljs-number">3</span></span> &amp;&amp; peg_b == <span class="dv"><span class="hljs-number">0</span></span>);

get_score(<span class="st"><span class="hljs-string">"9347"</span></span>, <span class="st"><span class="hljs-string">"1256"</span></span>, &amp;peg_a, &amp;peg_b);
assert(peg_a == <span class="dv"><span class="hljs-number">0</span></span> &amp;&amp; peg_b == <span class="dv"><span class="hljs-number">0</span></span>);

get_score(<span class="st"><span class="hljs-string">"9347"</span></span>, <span class="st"><span class="hljs-string">"9436"</span></span>, &amp;peg_a, &amp;peg_b);
assert(peg_a == <span class="dv"><span class="hljs-number">1</span></span> &amp;&amp; peg_b == <span class="dv"><span class="hljs-number">2</span></span>);</code></pre></div>
<h3 id="úloha-3-funkcie-turn_off_leds-a-render_leds">Úloha #3: Funkcie <code class="sourceCode c">turn_off_leds()</code> a <code class="sourceCode c">render_leds()</code></h3>
<p>Obe tieto funkcie slúžia na prácu s RGB diódami. Funkcia <code class="sourceCode c">turn_off_leds()</code> nemá žiadny parameter a po jej zavolaní všetky diódy zhasnú.</p>
<p>Funkcia <code class="sourceCode c">render_leds()</code> naopak na základe toho, koľko číslic hráč uhádol, rozsvieti príslušné RGB diódy - za každú uhádnutú číslicu na pozícii, rozsvieti jednu RGB diódu na červeno, a za každú uhádnutú číslicu, ktorá sa nenchádza na správnej pozícii, rozsvieti jednu RGB diódu na modro.</p>
<p><strong>Poznámka:</strong> Žiadna dióda nie je spätá so žiadnou pozíciou číslice. To znamená, že hráč nesmie vedieť, že ak svieti RGB dióda č. 1, že uhádol číslicu na prvej pozícii.</p>
<p>Funkcia <code class="sourceCode c">render_leds()</code> má nasledovné pozičné parametre:</p>
<ul>
<li><code>const int peg_a</code> - Počet uhádnutých číslic na správnej pozícii.</li>
<li><code>const int peg_b</code> - Počet uhádnutých číslic na nesprávnej pozícii.</li>
</ul>
<p>Funkcie nevracajú žiadnu hodnotu.</p>
<h4 id="príklad-použitia-2">Príklad použitia</h4>
<div class="sourceCode"><pre class="sourceCode c"><code class="sourceCode c hljs cpp">turn_off_leds();

render_leds(<span class="dv"><span class="hljs-number">2</span></span>, <span class="dv"><span class="hljs-number">1</span></span>);
<span class="co"><span class="hljs-comment">// two leds will have red color, one will have blue and last one will be off</span></span></code></pre></div>
<h3 id="úloha-4-funkcia-render_history">Úloha #4: Funkcia <code class="sourceCode c">render_history()</code></h3>
<p>Úlohou tejto funkcie je vypísať na display príslušný záznam z histórie spolus jeho hodnotením.</p>
<p>Funkcia <code class="sourceCode c">render_history()</code> má nasledovné pozičné parametre:</p>
<ul>
<li><code class="sourceCode c"><span class="dt">char</span>* secret</code> - Referencia na číselnú kombináciu, ktorú je potrebné uhádnuť. Vstupný parameter.</li>
<li><code class="sourceCode c"><span class="dt">char</span>** history</code> - Referencia na históriu pokusov.</li>
<li><code class="sourceCode c"><span class="dt">const</span> <span class="dt">int</span> entry</code> - Index pozície v histórii, ktorá má byť vypísaná.</li>
</ul>
<p>Funkcia nevracia žiadnu hodnotu.</p>
<h4 id="príklad-použitia-3">Príklad použitia</h4>
<div class="sourceCode"><pre class="sourceCode c"><code class="sourceCode c hljs cpp"><span class="dt"><span class="hljs-keyword">char</span></span>* history[<span class="dv"><span class="hljs-number">3</span></span>][<span class="dv"><span class="hljs-number">4</span></span>];

history[<span class="dv"><span class="hljs-number">0</span></span>][<span class="dv"><span class="hljs-number">0</span></span>] = <span class="st"><span class="hljs-string">"1234"</span></span>;
history[<span class="dv"><span class="hljs-number">1</span></span>][<span class="dv"><span class="hljs-number">0</span></span>] = <span class="st"><span class="hljs-string">"5678"</span></span>;
history[<span class="dv"><span class="hljs-number">2</span></span>][<span class="dv"><span class="hljs-number">0</span></span>] = <span class="st"><span class="hljs-string">"9012"</span></span>;

render_history(<span class="st"><span class="hljs-string">"9347"</span></span>, history, <span class="dv"><span class="hljs-number">2</span></span>);
<span class="co"><span class="hljs-comment">// renders and evaluates "9012"</span></span></code></pre></div>
<h3 id="úloha-5-funkcia-play_game">Úloha #5: Funkcia <code class="sourceCode c">play_game()</code></h3>
<p>Funkcia, ktorá reprezentuje samotnú hru od jej spustenia až po jej dohranie.</p>
<p>Táto funkcia je špecifická kvôli tomu, že hernú slučku bude obsahovať sama v sebe a nebude využívať funkciu <code class="sourceCode c">loop()</code>, ktorú ponúka <em>Arduino</em>. Týmto prístupom sa totiž dokážeme vyhnúť nadmernému používaniu globálnych premenných, k čomu nás väčšina príkladov/tutoriálov/knižiek venovaných <em>Arduinu</em> priamo povzbudzuje.</p>
<p>Funkcia má jeden pozičný parameter:</p>
<ul>
<li><code class="sourceCode c"><span class="dt">char</span>* secret</code> - Referencia na reťazec, ktorý reprezentuje tajný kód, ktorý treba uhádnuť v danej hre.</li>
</ul>
<p>Funkcia po skončení nič nevracia.</p>
<h4 id="príklad-použitia-4">Príklad použitia</h4>
<div class="sourceCode"><pre class="sourceCode c"><code class="sourceCode c hljs cpp"><span class="dt"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> <span class="hljs-title">loop</span><span class="hljs-params">()</span></span>{
    <span class="dt"><span class="hljs-keyword">char</span></span>* code = generate_code(<span class="hljs-literal">false</span>, <span class="dv"><span class="hljs-number">4</span></span>);
    play_game(code);
    <span class="hljs-built_in">free</span>(code);
}</code></pre></div>
<h2 id="odovzdávanie-projektu">Odovzdávanie projektu</h2>
<p>Zadanie sa odovzdáva prostredníctvom systému na správu verzií <a href="http://git-scm.com/">Git</a> na serveri <a href="http://git.kpi.fei.tuke.sk/" class="uri">http://git.kpi.fei.tuke.sk/</a>. Riešenie tejto úlohy odovzdáte ako súčasť vášho projektu s názvom prog-2017.</p>
<p>Štruktúra vášho projektu bude vyzerať nasledovne:</p>
<pre><code class="hljs css">.
├── <span class="hljs-tag">ps4</span>
│   ├── <span class="hljs-tag">main</span><span class="hljs-class">.ino</span>
│   ├── <span class="hljs-tag">lcd_wrapper</span><span class="hljs-class">.cpp</span>
│   ├── <span class="hljs-tag">lcd_wrapper</span><span class="hljs-class">.h</span>
│   ├── <span class="hljs-tag">mastermind</span><span class="hljs-class">.cpp</span>
│   └── <span class="hljs-tag">mastermind</span><span class="hljs-class">.h</span>
└── <span class="hljs-tag">README</span></code></pre>
<p>kde význam súborov v priečinku <code>ps4/</code> je nasledovný:</p>
<ul>
<li><code>mastermind.cpp</code>, <code>mastermind.h</code> - Zdrojový kód a hlavičkový súbor knižnice pre hru <em>Mastermind</em> (<em>Logik</em>).</li>
<li><code>lcd_wrapper.cpp</code>, <code>lcd_wrapper.h</code> - Zdrojový kód a hlavičkový súbor modulu pre prácu s LCD display-om.</li>
<li><code>main.ino</code> - Zdrojový kód (<em>sketch</em>) obsahujúci funkcie <code class="sourceCode c">setup()</code> a <code class="sourceCode c">loop()</code>.</li>
<li><p><code>README</code> - Súbor, v ktorom bude uvedené označenie vašej skupiny, ktorú navštevujete na cvičeniach v tvare:</p>
<pre><code class="hljs css"><span class="hljs-rule"><span class="hljs-attribute">GROUP </span>:<span class="hljs-value"> A1</span></span></code></pre></li>
</ul>
<p><strong>Upozornenie:</strong> Je dôležité, aby vaše súbory zachovali uvedenú štruktúru. Ak sa niektorý zo súborov síce v repozitári nachádza, ale v inom priečinku, bude to považované za chybu a takýto projekt nebude považovaný za správny! Ak sa naopak vo vašom projekte nachádzajú súbory alebo priečinky navyše, tieto nebudú považované za chybu.</p>
<p><strong>Upozornenie:</strong> Pri názvoch priečinkov, súborov a obsahu súboru <code>README</code> záleží na veľkosti písmen!</p>
<h2 id="kostra-projektu">Kostra projektu</h2>
<p>Tentokrát je kostra projektu reprezentovaná len jedným hlavičkovým súborom, ktorý si môžete stiahnuť z tohto <a href="http://it4kt.cnl.sk/c/pvjc/2017/download/mastermind.zip">odkazu</a>.</p>
<h2 id="hodnotenie-a-testovanie">Hodnotenie a testovanie</h2>
<p>Za zadanie môžete získať max. <em>7</em> bodov. Počet získaných bodov sa bude odrážať od výsledku testov, ktorými vaše zadanie úspešne prejde. Overovať sa bude:</p>
<ul>
<li>Štruktúra vášho projektu (či sa v ňom nachádzajú všetky potrebné súbory).</li>
<li>Statická analýza vášho kódu pomocou nástroja <code>cppcheck</code>.</li>
<li>Prítomnosť globálnych premenných vo vašom kóde.</li>
<li>Funkčnosť vašej implementácie.</li>
</ul>
<p>Testovanie vašich riešení sa bude vykonávať automaticky každé 3 hodiny a to konkrétne o <em>0300</em>, <em>0600</em>, <em>0900</em>, <em>1200</em>, <em>1500</em>, <em>1800</em>, <em>2100</em> a <em>2400</em>.</p>
<p>Vaše riešenia opäť prejdú kontrolou originality. Preto sa pri práci na vašom zadaní správajte podľa pravidiel <a href="http://it4kt.cnl.sk/c/pvjc/honor.code.html">etického kódexu</a>! V prípade, že odovzdáte zadanie, ktoré nie je vaše, budete vylúčení z predmetu!</p>
<h2 id="ďalšie-zdroje">Ďalšie zdroje</h2>
<ul>
<li><a href="https://www.arduino.cc/en/Reference/HomePage">Language Reference</a></li>
<li>Arduino: <a href="http://robotika.vosrk.cz/guide/arduino/lesson06/cs">6. Tlačítko podruhé</a>, aneb stiskem zapni, stiskem vypni</li>
</ul>



    
    <section id="disqus" class="row">
        <h2>Diskusia</h2>

        <div class="alert alert-warning">
            <strong>Upozornenie:</strong> Do svojich príspevkov nevkladajte správne riešenia úloh a ani ich od ostatných nežiadajte! Nepoužívajte sprosté slová! Takéto príspevky budú zmazané! Riaďte sa podľa pravidiel <a href="http://it4kt.cnl.sk/c/pvjc/honor.code.html">etického kódexu</a>.
        </div>

        <div id="disqus_thread"><iframe id="dsq-app1" name="dsq-app1" allowtransparency="true" frameborder="0" scrolling="no" tabindex="0" title="Disqus" width="100%" src="./Programovanie_files/saved_resource.html" style="width: 1px !important; min-width: 100% !important; border: none !important; overflow: hidden !important; height: 6198px !important;" horizontalscrolling="no" verticalscrolling="no"></iframe><iframe id="indicator-north" name="indicator-north" allowtransparency="true" frameborder="0" scrolling="no" tabindex="0" title="Disqus" style="width: 1170px !important; border: none !important; overflow: hidden !important; top: 0px !important; min-width: 1170px !important; max-width: 1170px !important; position: fixed !important; z-index: 2147483646 !important; height: 18px !important; min-height: 18px !important; max-height: 18px !important; display: none !important;" src="./Programovanie_files/saved_resource(2).html"></iframe><iframe id="indicator-south" name="indicator-south" allowtransparency="true" frameborder="0" scrolling="no" tabindex="0" title="Disqus" style="width: 1170px !important; border: none !important; overflow: hidden !important; bottom: 0px !important; min-width: 1170px !important; max-width: 1170px !important; position: fixed !important; z-index: 2147483646 !important; height: 18px !important; min-height: 18px !important; max-height: 18px !important; display: none !important;" src="./Programovanie_files/saved_resource(3).html"></iframe></div>
        <script type="text/javascript">
            /* * * CONFIGURATION VARIABLES * * */
            var disqus_shortname = 'kpi-pvjc';
            
            /* * * DON'T EDIT BELOW THIS LINE * * */
            (function() {
                var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
                dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
                (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
            })();
        </script>
        <noscript>Please enable JavaScript to view the &lt;a href="https://disqus.com/?ref_noscript" rel="nofollow"&gt;comments powered by Disqus.&lt;/a&gt;</noscript>
    </section>
    
    

</div>


<footer class="footer" style="height: auto">
    <div class="container"><p class="text-muted text-center">
        © Copyright 2010 - 2017 <a href="https://www.kpi.fei.tuke.sk/">KPI FEI TUKE</a> <br>
        Materiály pripravili
        <a href="mailto:miroslav.binas@tuke.sk">Miroslav Biňas</a>,
        <a href="mailto:emilia.pietrikova@tuke.sk">Emília Pietriková</a>,
        <a href="mailto:marek.paralic@tuke.sk">Marek Paralič</a>,
        <a href="mailto:zuzana.dudlakova@tuke.sk">Zuzana Dudláková</a>,
        <a href="mailto:martin.tomasek@tuke.sk">Martin Tomášek</a>,
        <a href="mailto:jozef.mocnej@tuke.sk">Jozef Mocnej</a>,
        <br>
        Running on <a href="http://twitter.github.com/bootstrap/">Bootstrap3</a>; Na kofole s nami tento semester ešte nikto nebol :-(
    </p></div>
</footer>



<!-- <script src="js/jquery.min.js"></script> -->
<!-- <script src="js/bootstrap.min.js"></script> -->
<script src="./Programovanie_files/jquery-2.1.4.min.js"></script>
<script src="./Programovanie_files/bootstrap.min.js"></script>
<!-- <scritp src="/js/prettify.js"></scritp> -->
<!-- <script src="https://cdn.rawgit.com/google/code-prettify/master/loader/run_prettify.js?autoload=true"></script> -->

<!-- syntax highlighting -->
<script src="./Programovanie_files/highlight.min.js"></script>
<script>hljs.initHighlightingOnLoad();</script>





<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-49091509-1', 'auto');
  ga('send', 'pageview');

</script>




<iframe style="display: none;" src="./Programovanie_files/saved_resource(4).html"></iframe></body></html>